<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="login.css" />
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <header>
        <h1><a href="filmes.html" style="color: #00c853; text-decoration: none;">Minha Lista de Filmes</a></h1>
        <nav id="navLinks"></nav>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const nav = document.getElementById("navLinks");

                nav.innerHTML = "";

                const criarLink = (href, texto) => {
                    const a = document.createElement("a");
                    a.href = href;
                    a.textContent = texto;
                    return a;
                };

                nav.appendChild(criarLink("filmes.html", "Home"));
                nav.appendChild(criarLink("cadastro.html", "Cadastrar"));
            });
        </script>
        </nav>
    </header>

    <main class="form-container">
        <img src="https://i.pinimg.com/736x/ad/57/b1/ad57b11e313616c7980afaa6b9cc6990.jpg" alt="Ícone usuário"
            class="form-icon">
        <h2>LOGIN</h2>
        <form id="login-form">
            <label for="emailLogin">Login</label>
            <input type="email" id="emailLogin" placeholder="Digite seu email" required>

            <label for="senhaLogin">Senha</label>
            <input type="password" id="senhaLogin" placeholder="Digite sua senha" required>

            <button type="submit">Entrar</button>
        </form>
        <p style="margin-top: 1rem;">Não possui uma conta? <a href="cadastro.html"
                style="color: #00c853;">Cadastre-se</a></p>
    </main>

    <footer>
        Criado por: Victor Domingues Leite - ADS MANHÃ - FATEC Sorocaba - Projeto para a disciplina PWEB
    </footer>

    <script>
        document.getElementById('login-form').addEventListener('submit', function (event) {
            event.preventDefault();
            const email = document.getElementById('emailLogin').value.trim();
            const senha = document.getElementById('senhaLogin').value;

            const usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];
            const usuario = usuarios.find(u => u.email === email && u.senha === senha);

            if (usuario) {
                localStorage.setItem('usuarioLogado', JSON.stringify(usuario));
                alert('Login realizado com sucesso!');
                window.location.href = 'filmes.html';
            } else {
                alert('Email ou senha inválidos.');
            }
        });
    </script>
</body>

</html>